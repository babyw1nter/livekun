import{v as f,a1 as g,ap as w,av as y,a5 as l,a4 as r,at as p}from"./index-df8d1769.js";f([]);const m=async(t,a)=>{let n=a;Array.isArray(a)&&(n=a.map(i=>i.trim()).filter(i=>i!=="").join(","));const s=await r.get("/user/getPluginConfig",{params:{uuid:t,pluginName:n}});return s.data.code===200?s.data.data:[]},v=async(t,a,n)=>{const s=await r.post("/user/setPluginConfig",{uuid:t,pluginName:a,pluginConfig:n});return s.data.code===200?s.data.data:null},I=async(t,a)=>{const n=await r.post("/user/resetPluginConfig",{uuid:t,pluginName:a});return n.data.code===200?n.data.data:null},A=async()=>{const t=await u(g.PLUGIN_CHAT_MESSAGE),a=await u(g.PLUGIN_TICKET),n=await u(g.PLUGIN_PAID);return{chatMessagePluginConfig:t,ticketPluginConfig:a,paidPluginConfig:n}},u=async t=>{const a=w(),n=()=>{var e;return(e=y(t))==null?void 0:e.pluginConfig},s=()=>{var e;return((e=p.currentRoute.value.query.uuid)==null?void 0:e.toString())||a.uuid||""},i=f({pluginConfig:n()}),o=async()=>{const e=await m(s(),t),c=e.find(d=>d.pluginName===t);e.length>-1&&c&&(i.pluginConfig=c.pluginConfig)},C=async()=>{await I(s(),t),await o(),l.success("恢复默认选项完成！")},P=async()=>{await v(s(),t,i.pluginConfig),await o(),l.success("选项保存完成，已即时生效！")};return await o(),{reactivityPluginConfig:i,pull:o,reset:C,save:P}};export{u as a,A as u};
