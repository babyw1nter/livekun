import{_ as he}from"./plugins-Xu3aqep6.js";import{A as _e}from"./index-x1dk9ZCA.js";import{b1 as O,c7 as Ce,aW as xe,bg as k,P as ae,aY as _,c8 as Se,j as b,b8 as Oe,g as Ie,m as Pe,Z as De,bk as G,c9 as Te,d as M,k as re,u as ie,a as C,c as f,B as V,_ as W,b as j,ax as Re,bt as Z,ao as Le,a1 as J,r as Q,o as N,L as H,H as X,K as Ne,w as R,J as K,I as Be,i as Me,Q as Ae,z as Ee,h as ze,b9 as ke,b5 as q,ap as Ue,M as Ve,N as je}from"./index--OMG9p4T.js";import{_ as le}from"./plugin-vueexport-helper-x3n3nnut.js";import{s as He,c as Xe,d as Ke,e as Fe,i as ee,E as Ye,u as Ge,_ as We,M as Ze}from"./index-n1cBFXHJ.js";import{D as Je}from"./Dropdown-Z3Ee8vmK.js";import{k as Qe,r as qe,c as te,l as et}from"./index-wB2oYJKb.js";import{R as ne}from"./RightOutlined-1dUp_onC.js";const tt=new O("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),nt=new O("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),ot=new O("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),at=new O("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),rt=new O("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),it=new O("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),lt=new O("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),st=new O("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),dt={"move-up":{inKeyframes:lt,outKeyframes:st},"move-down":{inKeyframes:tt,outKeyframes:nt},"move-left":{inKeyframes:ot,outKeyframes:at},"move-right":{inKeyframes:rt,outKeyframes:it}},oe=(e,t)=>{const{antCls:n}=e,o=`${n}-${t}`,{inKeyframes:r,outKeyframes:l}=dt[t];return[Ce(o,r,l,e.motionDurationMid),{[`
        ${o}-enter,
        ${o}-appear
      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${o}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},se=()=>({arrow:xe([Boolean,Object]),trigger:{type:[Array,String]},menu:k(),overlay:ae.any,visible:_(),open:_(),disabled:_(),danger:_(),autofocus:_(),align:k(),getPopupContainer:Function,prefixCls:String,transitionName:String,placement:String,overlayClassName:String,overlayStyle:k(),forceRender:_(),mouseEnterDelay:Number,mouseLeaveDelay:Number,openClassName:String,minOverlayWidthMatchTrigger:_(),destroyPopupOnHide:_(),onVisibleChange:{type:Function},"onUpdate:visible":{type:Function},onOpenChange:{type:Function},"onUpdate:open":{type:Function}}),U=Se(),ct=()=>b(b({},se()),{type:U.type,size:String,htmlType:U.htmlType,href:String,disabled:_(),prefixCls:String,icon:ae.any,title:String,loading:U.loading,onClick:Oe()}),pt=e=>{const{componentCls:t,antCls:n,paddingXS:o,opacityLoading:r}=e;return{[`${t}-button`]:{whiteSpace:"nowrap",[`&${n}-btn-group > ${n}-btn`]:{[`&-loading, &-loading + ${n}-btn`]:{cursor:"default",pointerEvents:"none",opacity:r},[`&:last-child:not(:first-child):not(${n}-btn-icon-only)`]:{paddingInline:o}}}}},ut=pt,mt=e=>{const{componentCls:t,menuCls:n,colorError:o,colorTextLightSolid:r}=e,l=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${l}`]:{[`&${l}-danger:not(${l}-disabled)`]:{color:o,"&:hover":{color:r,backgroundColor:o}}}}}},gt=mt,vt=e=>{const{componentCls:t,menuCls:n,zIndexPopup:o,dropdownArrowDistance:r,dropdownArrowOffset:l,sizePopupArrow:g,antCls:a,iconCls:s,motionDurationMid:m,dropdownPaddingVertical:v,fontSize:d,dropdownEdgeChildPadding:c,colorTextDisabled:y,fontSizeIcon:p,controlPaddingHorizontal:w,colorBgElevated:i,boxShadowPopoverArrow:u}=e;return[{[t]:b(b({},De(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:o,display:"block","&::before":{position:"absolute",insetBlock:-r+g/2,zIndex:-9999,opacity:1e-4,content:'""'},[`${t}-wrap`]:{position:"relative",[`${a}-btn > ${s}-down`]:{fontSize:p},[`${s}-down::before`]:{transition:`transform ${m}`}},[`${t}-wrap-open`]:{[`${s}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`
        &-show-arrow${t}-placement-topLeft,
        &-show-arrow${t}-placement-top,
        &-show-arrow${t}-placement-topRight
      `]:{paddingBottom:r},[`
        &-show-arrow${t}-placement-bottomLeft,
        &-show-arrow${t}-placement-bottom,
        &-show-arrow${t}-placement-bottomRight
      `]:{paddingTop:r},[`${t}-arrow`]:b({position:"absolute",zIndex:1,display:"block"},qe(g,e.borderRadiusXS,e.borderRadiusOuter,i,u)),[`
        &-placement-top > ${t}-arrow,
        &-placement-topLeft > ${t}-arrow,
        &-placement-topRight > ${t}-arrow
      `]:{bottom:r,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${t}-arrow`]:{left:{_skip_check_:!0,value:l}},[`&-placement-topRight > ${t}-arrow`]:{right:{_skip_check_:!0,value:l}},[`
          &-placement-bottom > ${t}-arrow,
          &-placement-bottomLeft > ${t}-arrow,
          &-placement-bottomRight > ${t}-arrow
        `]:{top:r,transform:"translateY(-100%)"},[`&-placement-bottom > ${t}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateY(-100%) translateX(-50%)"},[`&-placement-bottomLeft > ${t}-arrow`]:{left:{_skip_check_:!0,value:l}},[`&-placement-bottomRight > ${t}-arrow`]:{right:{_skip_check_:!0,value:l}},[`&${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottomLeft,
          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottomLeft,
          &${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottom,
          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottom,
          &${a}-slide-down-enter${a}-slide-down-enter-active${t}-placement-bottomRight,
          &${a}-slide-down-appear${a}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:He},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-topLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-topLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-top,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-top,
          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-placement-topRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Xe},[`&${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottomLeft,
          &${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottom,
          &${a}-slide-down-leave${a}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Ke},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-topLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-top,
          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Fe}})},{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:o,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul,li":{listStyle:"none"},ul:{marginInline:"0.3em"}},[`${t}, ${t}-menu-submenu`]:{[n]:b(b({padding:c,listStyleType:"none",backgroundColor:i,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},G(e)),{[`${n}-item-group-title`]:{padding:`${v}px ${w}px`,color:e.colorTextDescription,transition:`all ${m}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center",borderRadius:e.borderRadiusSM},[`${n}-item-icon`]:{minWidth:d,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${m}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${n}-item, ${n}-submenu-title`]:b(b({clear:"both",margin:0,padding:`${v}px ${w}px`,color:e.colorText,fontWeight:"normal",fontSize:d,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${m}`,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},G(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:y,cursor:"not-allowed","&:hover":{color:y,backgroundColor:i,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${e.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:p,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${e.marginXS}px`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:w+e.fontSizeSM},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:y,backgroundColor:i,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})}},[ee(e,"slide-up"),ee(e,"slide-down"),oe(e,"move-up"),oe(e,"move-down"),Te(e,"zoom-big")]]},de=Ie("Dropdown",(e,t)=>{let{rootPrefixCls:n}=t;const{marginXXS:o,sizePopupArrow:r,controlHeight:l,fontSize:g,lineHeight:a,paddingXXS:s,componentCls:m,borderRadiusOuter:v,borderRadiusLG:d}=e,c=(l-g*a)/2,{dropdownArrowOffset:y}=Qe({sizePopupArrow:r,contentRadius:d,borderRadiusOuter:v}),p=Pe(e,{menuCls:`${m}-menu`,rootPrefixCls:n,dropdownArrowDistance:r/2+o,dropdownArrowOffset:y,dropdownPaddingVertical:c,dropdownEdgeChildPadding:s});return[vt(p),ut(p),gt(p)]},e=>({zIndexPopup:e.zIndexPopupBase+50}));var ft=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const yt=V.Group,B=M({compatConfig:{MODE:3},name:"ADropdownButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:re(ct(),{trigger:"hover",placement:"bottomRight",type:"default"}),slots:Object,setup(e,t){let{slots:n,attrs:o,emit:r}=t;const l=c=>{r("update:visible",c),r("visibleChange",c),r("update:open",c),r("openChange",c)},{prefixCls:g,direction:a,getPopupContainer:s}=ie("dropdown",e),m=C(()=>`${g.value}-button`),[v,d]=de(g);return()=>{var c,y;const p=b(b({},e),o),{type:w="default",disabled:i,danger:u,loading:h,htmlType:I,class:$="",overlay:x=(c=n.overlay)===null||c===void 0?void 0:c.call(n),trigger:S,align:P,open:D,visible:T,onVisibleChange:A,placement:E=a.value==="rtl"?"bottomLeft":"bottomRight",href:z,title:pe,icon:ue=((y=n.icon)===null||y===void 0?void 0:y.call(n))||f(Ye,null,null),mouseEnterDelay:me,mouseLeaveDelay:ge,overlayClassName:ve,overlayStyle:fe,destroyPopupOnHide:ye,onClick:be,"onUpdate:open":Ct}=p,$e=ft(p,["type","disabled","danger","loading","htmlType","class","overlay","trigger","align","open","visible","onVisibleChange","placement","href","title","icon","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","onClick","onUpdate:open"]),we={align:P,disabled:i,trigger:i?[]:S,placement:E,getPopupContainer:s==null?void 0:s.value,onOpenChange:l,mouseEnterDelay:me,mouseLeaveDelay:ge,open:D??T,overlayClassName:ve,overlayStyle:fe,destroyPopupOnHide:ye},F=f(V,{danger:u,type:w,disabled:i,loading:h,onClick:be,htmlType:I,href:z,title:pe},{default:n.default}),Y=f(V,{danger:u,type:w,icon:ue},null);return v(f(yt,W(W({},$e),{},{class:j(m.value,$,d.value)}),{default:()=>[n.leftButton?n.leftButton({button:F}):F,f(L,we,{default:()=>[n.rightButton?n.rightButton({button:Y}):Y],overlay:()=>x})]}))}}}),ce=M({compatConfig:{MODE:3},name:"ADropdown",inheritAttrs:!1,props:re(se(),{mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft",trigger:"hover"}),slots:Object,setup(e,t){let{slots:n,attrs:o,emit:r}=t;const{prefixCls:l,rootPrefixCls:g,direction:a,getPopupContainer:s}=ie("dropdown",e),[m,v]=de(l),d=C(()=>{const{placement:i="",transitionName:u}=e;return u!==void 0?u:i.includes("top")?`${g.value}-slide-down`:`${g.value}-slide-up`});Ge({prefixCls:C(()=>`${l.value}-menu`),expandIcon:C(()=>f("span",{class:`${l.value}-menu-submenu-arrow`},[f(ne,{class:`${l.value}-menu-submenu-arrow-icon`},null)])),mode:C(()=>"vertical"),selectable:C(()=>!1),onClick:()=>{},validator:i=>{Re()}});const c=()=>{var i,u,h;const I=e.overlay||((i=n.overlay)===null||i===void 0?void 0:i.call(n)),$=Array.isArray(I)?I[0]:I;if(!$)return null;const x=$.props||{};Z(!x.mode||x.mode==="vertical","Dropdown",`mode="${x.mode}" is not supported for Dropdown's Menu.`);const{selectable:S=!1,expandIcon:P=(h=(u=$.children)===null||u===void 0?void 0:u.expandIcon)===null||h===void 0?void 0:h.call(u)}=x,D=typeof P<"u"&&J(P)?P:f("span",{class:`${l.value}-menu-submenu-arrow`},[f(ne,{class:`${l.value}-menu-submenu-arrow-icon`},null)]);return J($)?te($,{mode:"vertical",selectable:S,expandIcon:()=>D}):$},y=C(()=>{const i=e.placement;if(!i)return a.value==="rtl"?"bottomRight":"bottomLeft";if(i.includes("Center")){const u=i.slice(0,i.indexOf("Center"));return Z(!i.includes("Center"),"Dropdown",`You are using '${i}' placement in Dropdown, which is deprecated. Try to use '${u}' instead.`),u}return i}),p=C(()=>typeof e.visible=="boolean"?e.visible:e.open),w=i=>{r("update:visible",i),r("visibleChange",i),r("update:open",i),r("openChange",i)};return()=>{var i,u;const{arrow:h,trigger:I,disabled:$,overlayClassName:x}=e,S=(i=n.default)===null||i===void 0?void 0:i.call(n)[0],P=te(S,b({class:j((u=S==null?void 0:S.props)===null||u===void 0?void 0:u.class,{[`${l.value}-rtl`]:a.value==="rtl"},`${l.value}-trigger`)},$?{disabled:$}:{})),D=j(x,v.value,{[`${l.value}-rtl`]:a.value==="rtl"}),T=$?[]:I;let A;T&&T.includes("contextmenu")&&(A=!0);const E=et({arrowPointAtCenter:typeof h=="object"&&h.pointAtCenter,autoAdjustOverflow:!0}),z=Le(b(b(b({},e),o),{visible:p.value,builtinPlacements:E,overlayClassName:D,arrow:!!h,alignPoint:A,prefixCls:l.value,getPopupContainer:s==null?void 0:s.value,transitionName:d.value,trigger:T,onVisibleChange:w,placement:y.value}),["overlay","onUpdate:visible"]);return m(f(Je,z,{default:()=>[P],overlay:c}))}}});ce.Button=B;const L=ce;L.Button=B;L.install=function(e){return e.component(L.name,L),e.component(B.name,B),e};const bt={class:"money"},$t=M({__name:"Ticket",props:{type:{default:"level-0",type:String},avatarUrl:{type:String,default:""},money:{type:Number,default:0},message:{type:String,default:""},percentage:{type:Number,default:100}},setup(e){const t=e;Q(t.type);const n=C(()=>(Math.round(t.money*100)/100).toString());return Q(0),(o,r)=>{const l=_e,g=he;return N(),H("div",{class:Ae(["ticket no-select",e.type])},[X("span",{class:"ticket-bg",style:Ne({width:`${e.percentage.toFixed(1)}%`})},null,4),f(l,{class:"capsule-avatar",src:e.avatarUrl,size:27},null,8,["src"]),X("span",bt,[f(g,null,{default:R(()=>[Me(Be(e.message||`¥${K(n)}`),1)]),_:1})])],2)}}}),wt=le($t,[["__scopeId","data-v-fbbc16ad"]]),ht=["onClick"],_t=M({__name:"TicketPanel",props:{maximum:{type:Number,default:100},level:{type:Array,default:()=>[0,9,49,99,199,249,499]},duration:{type:Array,default:()=>[1,5,10,15,30,45,60]}},setup(e,{expose:t}){const n=e,o=Ee([]),r=[],l=async s=>{o.length>=n.maximum&&g(o[o.length-1].key);const m=n.duration[q(s.money,n.level)]*60*1e3;o.unshift({...s,_customDuration:s.duration||0,duration:s.duration||m,timing:s.duration||m,percentage:100});const v={key:s.key,timer:window.setInterval(()=>{const d=o.findIndex(c=>c.key===s.key);if(d>-1){if(o[d].timing<=0){const c=r.findIndex(y=>y.key===s.key);r[c]&&(clearInterval(r[c].timer),r.splice(c,1)),Ue(()=>{o.splice(d,1)});return}o[d].timing-=100,o[d].percentage=Number((o[d].timing/o[d].duration*100).toFixed(1))}},100)};r.push(v)},g=s=>{const m=o.findIndex(d=>d.key===s),v=r.findIndex(d=>d.key===s);m>-1&&o.splice(m,1),v>-1&&(clearInterval(r[v].timer),r.splice(v,1))};return t({add:l,del:g,clear:()=>{r.forEach(s=>window.clearInterval(s.timer)),r.splice(0,r.length),o.splice(0,o.length)}}),(s,m)=>{const v=wt,d=We,c=Ze,y=L;return N(),ze(ke,{name:"list",tag:"ul",class:"ticket-panel clearfix"},{default:R(()=>[(N(!0),H(je,null,Ve(K(o),p=>(N(),H("li",{key:p.key},[f(y,null,{overlay:R(()=>[f(c,null,{default:R(()=>[f(d,null,{default:R(()=>[X("a",{href:"javascript:;",onClick:w=>g(p.key)}," 移除 ",8,ht)]),_:2},1024)]),_:2},1024)]),default:R(()=>[f(v,{type:p.type||`level-${K(q)(p.money,e.level)}`,"avatar-url":p.avatarUrl,money:p.money,message:p.message,percentage:p.percentage},null,8,["type","avatar-url","money","message","percentage"])]),_:2},1024)]))),128))]),_:1})}}}),Lt=le(_t,[["__scopeId","data-v-b2432832"]]);export{Lt as _,oe as i};
