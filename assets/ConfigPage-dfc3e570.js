import{_ as D,a as G,c as K,d as V,e as $}from"./PluginPreviewWrapper-18d6ac2d.js";import{_ as q}from"./TicketPanel-dd7afdd4.js";import{d as J,r as g,D as O,q as W,a$ as Y,M as j,c as t,w as e,az as P,b0 as H,o as Q,i as l,J as o,L as X,F as h,Y as T,B as Z}from"./index-75865c4e.js";import{P as b}from"./plugins-25523cbe.js";import{_ as tt,F as et}from"./index-a2e922ea.js";import{C as ot}from"./index-d836a532.js";import{_ as nt}from"./Text-ccee35c0.js";import{_ as at}from"./index-b740918f.js";import{_ as _t}from"./index-507b210d.js";import{_ as lt}from"./index-be2ef2ac.js";import{_ as it}from"./plugin-vueexport-helper-c27b6911.js";import"./index-2319a7ff.js";import"./index-fb010fb2.js";import"./responsiveObserve-a17f2aa3.js";import"./useMergedState-a41ed6fb.js";import"./TextArea-7f8c9153.js";import"./Link-d2a1c7b7.js";import"./index-b2b334b8.js";import"./collapseMotion-c34d7611.js";import"./Dropdown-529d902f.js";import"./RightOutlined-ba1ee7c2.js";import"./useFlexGapSupport-bb84b3bd.js";import"./hasIn-2c25d79e.js";import"./QuestionCircleOutlined-2118022f.js";const st={class:"config-ticket options-panel"},rt=J({__name:"ConfigPage",async setup(pt){let r,v;const c=g();let{pluginConfig:_,pull:I,reset:M,save:N}=([r,v]=O(()=>H(b.PLUGIN_TICKET)),r=await r,v(),r);const w=g(0),d=g(!0),x=a=>{var n;a?((n=c.value)==null||n.add({...P()}),w.value=window.setInterval(()=>{var i;(i=c.value)==null||i.add({...P()})},5e3)):window.clearInterval(w.value)};W(()=>x(!0)),Y(()=>{I()});const U=()=>{h.post("/api/control",{method:"sendMockDataToTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},z=()=>{h.post("/api/control",{method:"clearTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},B={style:{width:"150px"}};return(a,n)=>{const i=nt,R=at,C=_t,k=tt,p=G,y=D,S=et,f=ot,m=Z,u=lt,A=K,E=q,F=V,L=$;return Q(),j("div",st,[t(y,{gutter:[16,16]},{default:e(()=>[t(p,{sm:24,lg:14,xl:16,style:{width:"100%"}},{default:e(()=>[t(u,{direction:"vertical",size:"middle",style:{width:"100%"}},{default:e(()=>[t(f,null,{default:e(()=>[t(i,{strong:""},{default:e(()=>[l("通用设置")]),_:1}),t(R),t(S,{"label-align":"right","label-col":B,style:{"max-width":"none"}},{default:e(()=>[t(y,{gutter:24,style:{margin:"0"}},{default:e(()=>[t(p,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最大数量"},{default:e(()=>[t(C,{min:1,value:o(_).maximum,"onUpdate:value":n[0]||(n[0]=s=>o(_).maximum=s)},null,8,["value"])]),_:1})]),_:1}),t(p,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最低金额"},{default:e(()=>[t(C,{min:0,value:o(_).minMoney,"onUpdate:value":n[1]||(n[1]=s=>o(_).minMoney=s),disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{direction:"vertical"},{default:e(()=>[t(i,{strong:""},{default:e(()=>[l("插件控制")]),_:1}),t(u,{size:10,style:{"margin-top":"1rem"}},{default:e(()=>[t(m,{onClick:U},{default:e(()=>[l("发送模拟数据至插件")]),_:1}),t(m,{onClick:z},{default:e(()=>[l("清空插件数据")]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{size:10},{default:e(()=>[t(m,{type:"primary",onClick:o(N)},{default:e(()=>[l(" 保存设置 ")]),_:1},8,["onClick"]),t(A,{title:"确定要恢复默认吗？","ok-text":"确定","cancel-text":"取消",onConfirm:o(M)},{default:e(()=>[t(m,{danger:""},{default:e(()=>[l("恢复默认")]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1})]),_:1})]),_:1}),t(p,{sm:24,lg:10,xl:8,style:{width:"100%"}},{default:e(()=>[t(L,{"offset-top":16,style:{width:"100%"}},{default:e(()=>[t(F,{class:"plugin-ticket-preview","plugin-name":o(b).PLUGIN_TICKET,"auto-preview":o(d),"onUpdate:autoPreview":n[2]||(n[2]=s=>X(d)?d.value=s:null),onOnAutoPreviewSwitchChange:x},{default:e(()=>[t(E,{ref_key:"TicketPanelRef",ref:c,class:"preview-ticket-panel",level:o(_).level,duration:o(_).duration},null,8,["level","duration"])]),_:1},8,["plugin-name","auto-preview"])]),_:1})]),_:1})]),_:1})])}}});const At=it(rt,[["__scopeId","data-v-530c50a0"]]);export{At as default};
