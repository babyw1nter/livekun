import{_ as D,a as G,c as K,d as O,e as V}from"./PluginPreviewWrapper-P3BdiMEK.js";import{_ as q}from"./TicketPanel-2AcyLt5q.js";import{d as J,r as g,D as W,q as Y,ap as $,L as j,c as t,w as e,af as y,b5 as H,o as Q,i as _,J as o,O as X,F as P,Y as T,B as Z}from"./index-5Gl6IU1d.js";import{P as b}from"./plugins-odMtN6Yo.js";import{_ as tt,F as et}from"./index-JIMcL7Jv.js";import{C as ot}from"./index-jK8tCu1o.js";import{_ as nt}from"./Text-wCTukS3-.js";import{_ as at}from"./index-UkjYzGT4.js";import{_ as lt}from"./index-xtDhHyag.js";import{_ as _t}from"./index-VzjbKRSX.js";import{_ as it}from"./plugin-vueexport-helper-x3n3nnut.js";import"./index-LZhoDWAx.js";import"./index-ps1MTR5i.js";import"./responsiveObserve-lzLK35eb.js";import"./useMergedState-V4VoY0Me.js";import"./TextArea-1D9l5N2Z.js";import"./Link-d1zDxCAN.js";import"./index-xcGweR0L.js";import"./collapseMotion-Nn7uSPns.js";import"./Dropdown-6n_WKkbM.js";import"./RightOutlined-r2efoXaN.js";import"./useFlexGapSupport-Pex1tx4f.js";import"./hasIn-LdhU9uMd.js";import"./QuestionCircleOutlined-HaljUD9b.js";import"./DownOutlined-Nv-TqVZg.js";const st={class:"config-ticket options-panel"},rt=J({__name:"ConfigPage",async setup(mt){let r,v;const c=g();let{pluginConfig:l,pull:I,reset:M,save:N}=([r,v]=W(()=>H(b.PLUGIN_TICKET)),r=await r,v(),r);const w=g(0),d=g(!0),x=a=>{var n;a?((n=c.value)==null||n.add({...y()}),w.value=window.setInterval(()=>{var i;(i=c.value)==null||i.add({...y()})},5e3)):window.clearInterval(w.value)};Y(()=>x(!0)),$(()=>{I()});const U=()=>{P.post("/api/control",{method:"sendMockDataToTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},B=()=>{P.post("/api/control",{method:"clearTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},R={style:{width:"150px"}};return(a,n)=>{const i=nt,S=at,C=lt,k=tt,m=G,h=D,z=et,f=ot,p=Z,u=_t,A=K,E=q,F=O,L=V;return Q(),j("div",st,[t(h,{gutter:[16,16]},{default:e(()=>[t(m,{sm:24,lg:14,xl:16,style:{width:"100%"}},{default:e(()=>[t(u,{direction:"vertical",size:"middle",style:{width:"100%"}},{default:e(()=>[t(f,null,{default:e(()=>[t(i,{strong:""},{default:e(()=>[_("通用设置")]),_:1}),t(S),t(z,{"label-align":"right","label-col":R,style:{"max-width":"none"}},{default:e(()=>[t(h,{gutter:24,style:{margin:"0"}},{default:e(()=>[t(m,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最大数量"},{default:e(()=>[t(C,{min:1,value:o(l).maximum,"onUpdate:value":n[0]||(n[0]=s=>o(l).maximum=s)},null,8,["value"])]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最低金额"},{default:e(()=>[t(C,{min:0,value:o(l).minMoney,"onUpdate:value":n[1]||(n[1]=s=>o(l).minMoney=s),disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{direction:"vertical"},{default:e(()=>[t(i,{strong:""},{default:e(()=>[_("插件控制")]),_:1}),t(u,{size:10,style:{"margin-top":"1rem"}},{default:e(()=>[t(p,{onClick:U},{default:e(()=>[_("发送模拟数据至插件")]),_:1}),t(p,{onClick:B},{default:e(()=>[_("清空插件数据")]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{size:10},{default:e(()=>[t(p,{type:"primary",onClick:o(N)},{default:e(()=>[_(" 保存设置 ")]),_:1},8,["onClick"]),t(A,{title:"确定要恢复默认吗？","ok-text":"确定","cancel-text":"取消",onConfirm:o(M)},{default:e(()=>[t(p,{danger:""},{default:e(()=>[_("恢复默认")]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1})]),_:1})]),_:1}),t(m,{sm:24,lg:10,xl:8,style:{width:"100%"}},{default:e(()=>[t(L,{"offset-top":16,style:{width:"100%"}},{default:e(()=>[t(F,{class:"plugin-ticket-preview","plugin-name":o(b).PLUGIN_TICKET,"auto-preview":o(d),"onUpdate:autoPreview":n[2]||(n[2]=s=>X(d)?d.value=s:null),onOnAutoPreviewSwitchChange:x},{default:e(()=>[t(E,{ref_key:"TicketPanelRef",ref:c,class:"preview-ticket-panel",level:o(l).level,duration:o(l).duration},null,8,["level","duration"])]),_:1},8,["plugin-name","auto-preview"])]),_:1})]),_:1})]),_:1})])}}}),Et=it(rt,[["__scopeId","data-v-9916704f"]]);export{Et as default};
