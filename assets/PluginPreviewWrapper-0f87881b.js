import{K as ae,I as ce,ad as R,d as W,s as K,v as de,l as ue,c as P,f as F,o as oe,A as he,x as fe,M as se,e as ge,a as u,b as z,_,ac as pe,ae as we,H as me,af as Se,ag as ve,N as xe,ah as $e,ai as G,r as V,z as Ie,L as be,aj as q,P as f,ak as ye,X as Me,Y as _e,al as Q,am as Ce,Z as H,g as N,$ as B,a2 as Pe,an as ze}from"./index-59f4d469.js";import{w as Y,a as Te,s as Ee,o as le,R as He}from"./index-be7ebebd.js";import{C as Be,R as Oe}from"./index-bc4c8dc7.js";import{K as Z}from"./collapseMotion-5b73d6fb.js";import{W as Ae}from"./index-9b70d92e.js";import{u as De}from"./TextArea-29c3bd90.js";import{_ as Le,a as Re}from"./Text-953b0b92.js";import{_ as Ne}from"./index-a57c3d77.js";import{_ as Fe}from"./plugin-vueexport-helper-f4a8b4ae.js";function J(e){let n;const t=c=>()=>{n=null,e(...c)},i=function(){if(n==null){for(var c=arguments.length,l=new Array(c),o=0;o<c;o++)l[o]=arguments[o];n=Y(t(l))}};return i.cancel=()=>{Y.cancel(n),n=null},i}function L(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function k(e,n,t){if(t!==void 0&&n.top>e.top-t)return`${t+n.top}px`}function ee(e,n,t){if(t!==void 0&&n.bottom<e.bottom+t){const i=window.innerHeight-n.bottom;return`${t+i}px`}}const re=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];let O=[];function ne(e,n){if(!e)return;let t=O.find(i=>i.target===e);t?t.affixList.push(n):(t={target:e,affixList:[n],eventHandlers:{}},O.push(t),re.forEach(i=>{t.eventHandlers[i]=Te(e,i,()=>{t.affixList.forEach(c=>{const{lazyUpdatePosition:l}=c.exposed;l()},(i==="touchstart"||i==="touchmove")&&Ee?{passive:!0}:!1)})}))}function te(e){const n=O.find(t=>{const i=t.affixList.some(c=>c===e);return i&&(t.affixList=t.affixList.filter(c=>c!==e)),i});n&&n.affixList.length===0&&(O=O.filter(t=>t!==n),re.forEach(t=>{const i=n.eventHandlers[t];i&&i.remove&&i.remove()}))}const Ve=e=>{const{componentCls:n}=e;return{[n]:{position:"fixed",zIndex:e.zIndexPopup}}},We=ae("Affix",e=>{const n=ce(e,{zIndexPopup:e.zIndexBase+10});return[Ve(n)]});function Ue(){return typeof window<"u"?window:null}var C;(function(e){e[e.None=0]="None",e[e.Prepare=1]="Prepare"})(C||(C={}));const je=()=>({offsetTop:Number,offsetBottom:Number,target:{type:Function,default:Ue},prefixCls:String,onChange:Function,onTestUpdatePosition:Function}),Xe=W({compatConfig:{MODE:3},name:"AAffix",inheritAttrs:!1,props:je(),setup(e,n){let{slots:t,emit:i,expose:c,attrs:l}=n;const o=K(),v=K(),s=de({affixStyle:void 0,placeholderStyle:void 0,status:C.None,lastAffix:!1,prevTarget:null,timeout:null}),g=ue(),I=P(()=>e.offsetBottom===void 0&&e.offsetTop===void 0?0:e.offsetTop),h=P(()=>e.offsetBottom),y=()=>{const{status:r,lastAffix:p}=s,{target:x}=e;if(r!==C.Prepare||!v.value||!o.value||!x)return;const $=x();if(!$)return;const w={status:C.None},d=L(o.value);if(d.top===0&&d.left===0&&d.width===0&&d.height===0)return;const a=L($),S=k(d,a,I.value),X=ee(d,a,h.value);if(!(d.top===0&&d.left===0&&d.width===0&&d.height===0)){if(S!==void 0){const T=`${d.width}px`,E=`${d.height}px`;w.affixStyle={position:"fixed",top:S,width:T,height:E},w.placeholderStyle={width:T,height:E}}else if(X!==void 0){const T=`${d.width}px`,E=`${d.height}px`;w.affixStyle={position:"fixed",bottom:X,width:T,height:E},w.placeholderStyle={width:T,height:E}}w.lastAffix=!!w.affixStyle,p!==w.lastAffix&&i("change",w.lastAffix),_(s,w)}},M=()=>{_(s,{status:C.Prepare,affixStyle:void 0,placeholderStyle:void 0}),g.update()},m=J(()=>{M()}),A=J(()=>{const{target:r}=e,{affixStyle:p}=s;if(r&&p){const x=r();if(x&&o.value){const $=L(x),w=L(o.value),d=k(w,$,I.value),a=ee(w,$,h.value);if(d!==void 0&&p.top===d||a!==void 0&&p.bottom===a)return}}M()});c({updatePosition:m,lazyUpdatePosition:A}),F(()=>e.target,r=>{const p=(r==null?void 0:r())||null;s.prevTarget!==p&&(te(g),p&&(ne(p,g),m()),s.prevTarget=p)}),F(()=>[e.offsetTop,e.offsetBottom],m),oe(()=>{const{target:r}=e;r&&(s.timeout=setTimeout(()=>{ne(r(),g),m()}))}),he(()=>{y()}),fe(()=>{clearTimeout(s.timeout),te(g),m.cancel(),A.cancel()});const{prefixCls:b}=se("affix",e),[D,j]=We(b);return()=>{var r;const{affixStyle:p,placeholderStyle:x}=s,$=ge({[b.value]:p,[j.value]:!0}),w=le(e,["prefixCls","offsetTop","offsetBottom","target","onChange","onTestUpdatePosition"]);return D(u(He,{onResize:m},{default:()=>[u("div",z(z(z({},w),l),{},{ref:o}),[p&&u("div",{style:x,"aria-hidden":"true"},null),u("div",{class:$,ref:v,style:p},[(r=t.default)===null||r===void 0?void 0:r.call(t)])])]}))}}}),Sn=R(Xe);var Ke={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const Ge=Ke;function ie(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),i.forEach(function(c){qe(e,c,t[c])})}return e}function qe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var U=function(n,t){var i=ie({},n,t.attrs);return u(pe,ie({},i,{icon:Ge}),null)};U.displayName="DownOutlined";U.inheritAttrs=!1;const vn=U,xn=R(Be),$n=R(Oe),Qe=e=>{const{componentCls:n}=e,t=`${n}-inner`;return{[n]:{[`&${n}-small`]:{minWidth:e.switchMinWidthSM,height:e.switchHeightSM,lineHeight:`${e.switchHeightSM}px`,[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMaxSM,paddingInlineEnd:e.switchInnerMarginMinSM,[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`},[`${t}-unchecked`]:{marginTop:-e.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${n}-handle`]:{width:e.switchPinSizeSM,height:e.switchPinSizeSM},[`${n}-loading-icon`]:{top:(e.switchPinSizeSM-e.switchLoadingIconSize)/2,fontSize:e.switchLoadingIconSize},[`&${n}-checked`]:{[`${n}-inner`]:{paddingInlineStart:e.switchInnerMarginMinSM,paddingInlineEnd:e.switchInnerMarginMaxSM,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding*2}px + ${e.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSizeSM+e.switchPadding*2}px - ${e.switchInnerMarginMaxSM*2}px)`}},[`${n}-handle`]:{insetInlineStart:`calc(100% - ${e.switchPinSizeSM+e.switchPadding}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:e.marginXXS/2,marginInlineEnd:-e.marginXXS/2}},[`&${n}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:-e.marginXXS/2,marginInlineEnd:e.marginXXS/2}}}}}}},Ye=e=>{const{componentCls:n}=e;return{[n]:{[`${n}-loading-icon${e.iconCls}`]:{position:"relative",top:(e.switchPinSize-e.fontSize)/2,color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${n}-checked ${n}-loading-icon`]:{color:e.switchColor}}}},Ze=e=>{const{componentCls:n}=e,t=`${n}-handle`;return{[n]:{[t]:{position:"absolute",top:e.switchPadding,insetInlineStart:e.switchPadding,width:e.switchPinSize,height:e.switchPinSize,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:e.colorWhite,borderRadius:e.switchPinSize/2,boxShadow:e.switchHandleShadow,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${n}-checked ${t}`]:{insetInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding}px)`},[`&:not(${n}-disabled):active`]:{[`${t}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${n}-checked ${t}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Je=e=>{const{componentCls:n}=e,t=`${n}-inner`;return{[n]:{[t]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:e.switchInnerMarginMax,paddingInlineEnd:e.switchInnerMarginMin,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${t}-checked, ${t}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none"},[`${t}-checked`]:{marginInlineStart:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`},[`${t}-unchecked`]:{marginTop:-e.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${n}-checked ${t}`]:{paddingInlineStart:e.switchInnerMarginMin,paddingInlineEnd:e.switchInnerMarginMax,[`${t}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${t}-unchecked`]:{marginInlineStart:`calc(100% - ${e.switchPinSize+e.switchPadding*2}px + ${e.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${e.switchPinSize+e.switchPadding*2}px - ${e.switchInnerMarginMax*2}px)`}},[`&:not(${n}-disabled):active`]:{[`&:not(${n}-checked) ${t}`]:{[`${t}-unchecked`]:{marginInlineStart:e.switchPadding*2,marginInlineEnd:-e.switchPadding*2}},[`&${n}-checked ${t}`]:{[`${t}-checked`]:{marginInlineStart:-e.switchPadding*2,marginInlineEnd:e.switchPadding*2}}}}}},ke=e=>{const{componentCls:n}=e;return{[n]:_(_(_(_({},me(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:e.switchMinWidth,height:e.switchHeight,lineHeight:`${e.switchHeight}px`,verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${n}-disabled)`]:{background:e.colorTextTertiary}}),Se(e)),{[`&${n}-checked`]:{background:e.switchColor,[`&:hover:not(${n}-disabled)`]:{background:e.colorPrimaryHover}},[`&${n}-loading, &${n}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${n}-rtl`]:{direction:"rtl"}})}},en=ae("Switch",e=>{const n=e.fontSize*e.lineHeight,t=e.controlHeight/2,i=2,c=n-i*2,l=t-i*2,o=ce(e,{switchMinWidth:c*2+i*4,switchHeight:n,switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchInnerMarginMin:c/2,switchInnerMarginMax:c+i+i*2,switchPadding:i,switchPinSize:c,switchBg:e.colorBgContainer,switchMinWidthSM:l*2+i*2,switchHeightSM:t,switchInnerMarginMinSM:l/2,switchInnerMarginMaxSM:l+i+i*2,switchPinSizeSM:l,switchHandleShadow:`0 2px 4px 0 ${new we("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:e.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[ke(o),Je(o),Ze(o),Ye(o),Qe(o)]}),nn=ve("small","default"),tn=()=>({id:String,prefixCls:String,size:f.oneOf(nn),disabled:{type:Boolean,default:void 0},checkedChildren:f.any,unCheckedChildren:f.any,tabindex:f.oneOfType([f.string,f.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:f.oneOfType([f.string,f.number,f.looseBool]),checkedValue:f.oneOfType([f.string,f.number,f.looseBool]).def(!0),unCheckedValue:f.oneOfType([f.string,f.number,f.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),an=W({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:tn(),slots:Object,setup(e,n){let{attrs:t,slots:i,expose:c,emit:l}=n;const o=De(),v=xe(),s=P(()=>{var a;return(a=e.disabled)!==null&&a!==void 0?a:v.value});$e(()=>{G(),G()});const g=V(e.checked!==void 0?e.checked:t.defaultChecked),I=P(()=>g.value===e.checkedValue);F(()=>e.checked,()=>{g.value=e.checked});const{prefixCls:h,direction:y,size:M}=se("switch",e),[m,A]=en(h),b=V(),D=()=>{var a;(a=b.value)===null||a===void 0||a.focus()};c({focus:D,blur:()=>{var a;(a=b.value)===null||a===void 0||a.blur()}}),oe(()=>{Ie(()=>{e.autofocus&&!s.value&&b.value.focus()})});const r=(a,S)=>{s.value||(l("update:checked",a),l("change",a,S),o.onFieldChange())},p=a=>{l("blur",a)},x=a=>{D();const S=I.value?e.unCheckedValue:e.checkedValue;r(S,a),l("click",S,a)},$=a=>{a.keyCode===Z.LEFT?r(e.unCheckedValue,a):a.keyCode===Z.RIGHT&&r(e.checkedValue,a),l("keydown",a)},w=a=>{var S;(S=b.value)===null||S===void 0||S.blur(),l("mouseup",a)},d=P(()=>({[`${h.value}-small`]:M.value==="small",[`${h.value}-loading`]:e.loading,[`${h.value}-checked`]:I.value,[`${h.value}-disabled`]:s.value,[h.value]:!0,[`${h.value}-rtl`]:y.value==="rtl",[A.value]:!0}));return()=>{var a;return m(u(Ae,null,{default:()=>[u("button",z(z(z({},le(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),t),{},{id:(a=e.id)!==null&&a!==void 0?a:o.id.value,onKeydown:$,onClick:x,onBlur:p,onMouseup:w,type:"button",role:"switch","aria-checked":g.value,disabled:s.value||e.loading,class:[t.class,d.value],ref:b}),[u("div",{class:`${h.value}-handle`},[e.loading?u(be,{class:`${h.value}-loading-icon`},null):null]),u("span",{class:`${h.value}-inner`},[u("span",{class:`${h.value}-inner-checked`},[q(i,e,"checkedChildren")]),u("span",{class:`${h.value}-inner-unchecked`},[q(i,e,"unCheckedChildren")])])])]}))}}}),cn=R(an),on={class:"preview-main"},sn={class:"preview-footer"},ln=W({__name:"PluginPreviewWrapper",props:{pluginName:{type:String,default:""},autoPreview:{type:Boolean,default:!0},theme:{type:String,default:"dark"}},emits:["update:autoPreview","update:theme","onAutoPreviewSwitchChange"],setup(e,{emit:n}){const t=e,i=ye(),c=P(()=>`${window.location.origin}/#/plugins-obs/${t.pluginName}?uuid=${i.uuid}`),l=s=>{n("update:autoPreview",s),n("onAutoPreviewSwitchChange",s)},o=s=>{n("update:theme",s?"dark":"light")},v=V(!0);return(s,g)=>{const I=cn,h=Le,y=Ne,M=Re;return Me(),_e("div",{class:ze(["plugin-preview-wrapper",{"theme-dark":e.theme==="dark"||B(v),"theme-light":e.theme==="light"||!B(v)}])},[Q("div",on,[Ce(s.$slots,"default",{},void 0,!0)]),Q("div",sn,[u(y,{size:5},{default:H(()=>[u(I,{checked:e.autoPreview,"checked-children":"开","un-checked-children":"关",onChange:g[0]||(g[0]=m=>l(m)),style:{"vertical-align":"bottom"}},null,8,["checked"]),u(h,null,{default:H(()=>[N("自动预览")]),_:1})]),_:1}),u(y,{size:5},{default:H(()=>[u(I,{checked:B(v),"onUpdate:checked":g[1]||(g[1]=m=>Pe(v)?v.value=m:null),"checked-children":"暗","un-checked-children":"亮",onChange:g[2]||(g[2]=m=>o(m)),style:{"vertical-align":"bottom","margin-left":"10px","background-color":"#1890ff"}},null,8,["checked"]),u(h,null,{default:H(()=>[N("背景")]),_:1})]),_:1}),u(M,{href:B(c),copyable:{text:B(c)},target:"_blank",style:{float:"right"}},{default:H(()=>[N(" 插件链接 ")]),_:1},8,["href","copyable"])])],2)}}});const In=Fe(ln,[["__scopeId","data-v-550b29f5"]]);export{vn as D,xn as _,$n as a,cn as b,In as c,Sn as d};
