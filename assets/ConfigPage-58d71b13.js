import{_ as D,a as G,c as K,d as V,e as $}from"./PluginPreviewWrapper-a2f2c972.js";import{_ as q}from"./TicketPanel-5125512e.js";import{d as J,r as g,D as O,q as W,a$ as Y,M as j,c as t,w as e,az as P,b0 as H,o as Q,i as l,J as o,L as X,F as h,Y as T,B as Z}from"./index-d8776881.js";import{P as b}from"./plugins-c1e75d70.js";import{_ as tt,F as et}from"./index-8a839012.js";import{C as ot}from"./index-f7908c16.js";import{_ as nt}from"./Text-2f937055.js";import{_ as at}from"./index-d638a97c.js";import{_ as _t}from"./index-a69c5317.js";import{_ as lt}from"./index-a2d91fcb.js";import{_ as it}from"./plugin-vueexport-helper-c27b6911.js";import"./index-f071af1b.js";import"./index-241b4e3d.js";import"./responsiveObserve-1c6b6301.js";import"./useMergedState-3cf017bd.js";import"./TextArea-4c97f0c1.js";import"./Link-d136686f.js";import"./index-e2e39ad7.js";import"./collapseMotion-e3efc223.js";import"./Dropdown-3f82c577.js";import"./RightOutlined-6324fc20.js";import"./useFlexGapSupport-409fcb6c.js";import"./hasIn-56369987.js";import"./QuestionCircleOutlined-2450caf6.js";const st={class:"config-ticket options-panel"},rt=J({__name:"ConfigPage",async setup(pt){let r,v;const c=g();let{pluginConfig:_,pull:I,reset:M,save:N}=([r,v]=O(()=>H(b.PLUGIN_TICKET)),r=await r,v(),r);const w=g(0),d=g(!0),x=a=>{var n;a?((n=c.value)==null||n.add({...P()}),w.value=window.setInterval(()=>{var i;(i=c.value)==null||i.add({...P()})},5e3)):window.clearInterval(w.value)};W(()=>x(!0)),Y(()=>{I()});const U=()=>{h.post("/api/control",{method:"sendMockDataToTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},z=()=>{h.post("/api/control",{method:"clearTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},B={style:{width:"150px"}};return(a,n)=>{const i=nt,R=at,C=_t,k=tt,p=G,y=D,S=et,f=ot,m=Z,u=lt,A=K,E=q,F=V,L=$;return Q(),j("div",st,[t(y,{gutter:[16,16]},{default:e(()=>[t(p,{sm:24,lg:14,xl:16,style:{width:"100%"}},{default:e(()=>[t(u,{direction:"vertical",size:"middle",style:{width:"100%"}},{default:e(()=>[t(f,null,{default:e(()=>[t(i,{strong:""},{default:e(()=>[l("通用设置")]),_:1}),t(R),t(S,{"label-align":"right","label-col":B,style:{"max-width":"none"}},{default:e(()=>[t(y,{gutter:24,style:{margin:"0"}},{default:e(()=>[t(p,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最大数量"},{default:e(()=>[t(C,{min:1,value:o(_).maximum,"onUpdate:value":n[0]||(n[0]=s=>o(_).maximum=s)},null,8,["value"])]),_:1})]),_:1}),t(p,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最低金额"},{default:e(()=>[t(C,{min:0,value:o(_).minMoney,"onUpdate:value":n[1]||(n[1]=s=>o(_).minMoney=s),disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{direction:"vertical"},{default:e(()=>[t(i,{strong:""},{default:e(()=>[l("插件控制")]),_:1}),t(u,{size:10,style:{"margin-top":"1rem"}},{default:e(()=>[t(m,{onClick:U},{default:e(()=>[l("发送模拟数据至插件")]),_:1}),t(m,{onClick:z},{default:e(()=>[l("清空插件数据")]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{size:10},{default:e(()=>[t(m,{type:"primary",onClick:o(N)},{default:e(()=>[l(" 保存设置 ")]),_:1},8,["onClick"]),t(A,{title:"确定要恢复默认吗？","ok-text":"确定","cancel-text":"取消",onConfirm:o(M)},{default:e(()=>[t(m,{danger:""},{default:e(()=>[l("恢复默认")]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1})]),_:1})]),_:1}),t(p,{sm:24,lg:10,xl:8,style:{width:"100%"}},{default:e(()=>[t(L,{"offset-top":16,style:{width:"100%"}},{default:e(()=>[t(F,{class:"plugin-ticket-preview","plugin-name":o(b).PLUGIN_TICKET,"auto-preview":o(d),"onUpdate:autoPreview":n[2]||(n[2]=s=>X(d)?d.value=s:null),onOnAutoPreviewSwitchChange:x},{default:e(()=>[t(E,{ref_key:"TicketPanelRef",ref:c,class:"preview-ticket-panel",level:o(_).level,duration:o(_).duration},null,8,["level","duration"])]),_:1},8,["plugin-name","auto-preview"])]),_:1})]),_:1})]),_:1})])}}});const At=it(rt,[["__scopeId","data-v-530c50a0"]]);export{At as default};
