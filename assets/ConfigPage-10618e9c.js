import{_ as F,a as G,c as K,d as L}from"./PluginPreviewWrapper-0f87881b.js";import{_ as V}from"./TicketPanel-0256727f.js";import{d as W,r as g,W as $,o as D,X as O,Y as X,a as e,Z as t,g as i,$ as n,a1 as P,a2 as Y,ab as h,a4 as T,a5 as b}from"./index-59f4d469.js";import{a as Z}from"./config-c2b99d2d.js";import{_ as j,F as q}from"./index-bc4c8dc7.js";import{C as H}from"./index-dde31f8f.js";import{B as J}from"./index-9b70d92e.js";import{_ as Q}from"./Text-953b0b92.js";import{_ as ee}from"./index-3af3e0c5.js";import{_ as te}from"./index-8eebaf77.js";import{_ as ne}from"./index-a57c3d77.js";import{_ as oe}from"./plugin-vueexport-helper-f4a8b4ae.js";import"./index-be7ebebd.js";import"./collapseMotion-5b73d6fb.js";import"./TextArea-29c3bd90.js";import"./HFont.vuevuetypescriptsetuptruelang-e6f255b3.js";import"./index-59f465bc.js";import"./index-41631858.js";import"./Dropdown-bbda95ed.js";import"./RightOutlined-77464fa5.js";import"./useFlexGapSupport-50aed4ba.js";import"./styleChecker-09f1a0ab.js";import"./hasIn-326eb4cb.js";import"./useMergedState-4402de99.js";const ae={class:"config-ticket options-panel"},le=W({__name:"ConfigPage",async setup(ie){let r,v;const c=g();let{reactivityPluginConfig:l,pull:_e,reset:I,save:M}=([r,v]=$(()=>Z(P.PLUGIN_TICKET)),r=await r,v(),r);const C=g(0),d=g(!0),w=a=>{var o;a?((o=c.value)==null||o.add({...h()}),C.value=window.setInterval(()=>{var _;(_=c.value)==null||_.add({...h()})},5e3)):window.clearInterval(C.value)};D(()=>w(!0));const N=()=>{T.post("/api/control",{method:"sendMockDataToTicket"}).then(a=>{}).catch(a=>{b.error(a.toString())})},U=()=>{T.post("/api/control",{method:"clearTicket"}).then(a=>{}).catch(a=>{b.error(a.toString())})},B={style:{width:"150px"}};return(a,o)=>{const _=Q,R=ee,k=te,y=j,u=F,x=G,S=q,f=H,p=J,m=ne,z=V,E=K,A=L;return O(),X("div",ae,[e(x,{gutter:[16,16]},{default:t(()=>[e(u,{sm:24,lg:14,xl:16,style:{width:"100%"}},{default:t(()=>[e(m,{direction:"vertical",size:"middle",style:{width:"100%"}},{default:t(()=>[e(f,null,{default:t(()=>[e(_,{strong:""},{default:t(()=>[i("通用设置")]),_:1}),e(R),e(S,{"label-align":"right","label-col":B,style:{"max-width":"none"}},{default:t(()=>[e(x,{gutter:24,style:{margin:"0"}},{default:t(()=>[e(u,{xs:24,sm:24,md:12,lg:24,xl:12},{default:t(()=>[e(y,{label:"最大数量"},{default:t(()=>[e(k,{min:1,value:n(l).pluginConfig.maximum,"onUpdate:value":o[0]||(o[0]=s=>n(l).pluginConfig.maximum=s)},null,8,["value"])]),_:1})]),_:1}),e(u,{xs:24,sm:24,md:12,lg:24,xl:12},{default:t(()=>[e(y,{label:"最低金额"},{default:t(()=>[e(k,{min:0,value:n(l).pluginConfig.minMoney,"onUpdate:value":o[1]||(o[1]=s=>n(l).pluginConfig.minMoney=s),disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(m,{direction:"vertical"},{default:t(()=>[e(_,{strong:""},{default:t(()=>[i("插件控制")]),_:1}),e(m,{size:10,style:{"margin-top":"1rem"}},{default:t(()=>[e(p,{onClick:N},{default:t(()=>[i("发送模拟数据至插件")]),_:1}),e(p,{onClick:U},{default:t(()=>[i("清空插件数据")]),_:1})]),_:1})]),_:1})]),_:1}),e(f,null,{default:t(()=>[e(m,{size:10},{default:t(()=>[e(p,{type:"primary",onClick:n(M)},{default:t(()=>[i("保存设置")]),_:1},8,["onClick"]),e(p,{danger:"",onClick:n(I)},{default:t(()=>[i("恢复默认")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{sm:24,lg:10,xl:8,style:{width:"100%"}},{default:t(()=>[e(A,{"offset-top":16,style:{width:"100%"}},{default:t(()=>[e(E,{class:"plugin-ticket-preview","plugin-name":n(P).PLUGIN_TICKET,"auto-preview":n(d),"onUpdate:autoPreview":o[2]||(o[2]=s=>Y(d)?d.value=s:null),onOnAutoPreviewSwitchChange:w},{default:t(()=>[e(z,{ref_key:"TicketPanelRef",ref:c,class:"preview-ticket-panel",level:n(l).pluginConfig.level,duration:n(l).pluginConfig.duration},null,8,["level","duration"])]),_:1},8,["plugin-name","auto-preview"])]),_:1})]),_:1})]),_:1})])}}});const Re=oe(le,[["__scopeId","data-v-76dd8235"]]);export{Re as default};
