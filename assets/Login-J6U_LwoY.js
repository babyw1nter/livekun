import{_ as E,a as H}from"./PageFooter-sqCau-80.js";import{ab as a,ac as N,ad as f,ae as q,af as $,ag as W,ah as D,ai as b,aj as G,c as t,A as J,d as T,x as Y,f as Q,r as v,z as X,o as Z,L as K,H as c,w as s,i as d,J as l,ak as ee,O as oe,B as te,al as ne,am as se}from"./index-mEXGfnHG.js";import{I as re,_ as ae}from"./index-od0Sd-PY.js";import{_ as ie,F as le}from"./index-Nj9qQ5NI.js";import{C as ce}from"./index-BAHFxPvJ.js";import{_ as ue}from"./Text-uw5SbcLc.js";import{_ as pe}from"./Link-Ob3iS50Q.js";import{_ as _e}from"./plugin-vueexport-helper-x3n3nnut.js";import"./index-m5v7AIM9.js";import"./TextArea-ha3yQ1AL.js";import"./index-hd02fP8N.js";import"./SearchOutlined-_y7cly7i.js";import"./responsiveObserve-MasRUCaU.js";import"./useFlexGapSupport-vMdvSTiT.js";import"./hasIn-2BQ4AKP7.js";import"./collapseMotion-ZKw0PjiS.js";import"./QuestionCircleOutlined-_X_AujIi.js";import"./useMergedState-GwOyvkSK.js";function O(o){return f(G(o))}a.useModal=N;a.info=function(e){return f(q(e))};a.success=function(e){return f($(e))};a.error=function(e){return f(W(e))};a.warning=O;a.warn=O;a.confirm=function(e){return f(D(e))};a.destroyAll=function(){for(;b.length;){const e=b.pop();e&&e()}};a.install=function(o){return o.component(a.name,a),o};var me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const de=me;function k(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},u=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),u.forEach(function(i){fe(o,i,r[i])})}return o}function fe(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}var w=function(e,r){var u=k({},e,r.attrs);return t(J,k({},u,{icon:de}),null)};w.displayName="LockOutlined";w.inheritAttrs=!1;const ge=w,he="/livekun/assets/logo_270x80-vtG2YfRM.png",ve="/livekun/assets/qrcode-wx-4pwP-63b.jpg",h=o=>(ne("data-v-41dfa1cd"),o=o(),se(),o),we={class:"login"},ye={class:"login-wrapper"},be={class:"top"},ke=h(()=>c("div",{class:"logo",style:{display:"block","margin-bottom":"10px"}},[c("a",{href:"#",class:"no-select"},[c("img",{src:he,width:"220"})])],-1)),Oe={class:"main"},xe={class:"footer"},Fe=h(()=>c("br",null,null,-1)),Se=h(()=>c("br",null,null,-1)),Le=h(()=>c("img",{src:ve},null,-1)),Pe=T({__name:"Login",setup(o){const e=Y(),r=Q(),u=v(!1),i=v(!1);e.isLoggedIn&&localStorage.getItem("isLoggedIn")==="1"&&r.push({path:"/"});const x=v(),_=X({username:"",password:"",autologin:!0}),F=async(m,n)=>n===""?Promise.reject(new Error("用户名不能为空")):Promise.resolve(),S=async(m,n)=>n===""?Promise.reject(new Error("密码不能为空")):Promise.resolve(),L=async m=>{u.value=!0,await e.login(m.username,m.password,m.autologin)&&r.push({path:"/"}),u.value=!1},P={username:[{required:!0,validator:F,trigger:"blur"}],password:[{required:!0,validator:S,trigger:"blur"}]};return(m,n)=>{const y=ue,I=E,j=re,g=ie,z=ge,M=ae,B=ce,R=pe,U=te,V=le,C=H,A=a;return Z(),K("div",we,[c("div",ye,[c("div",be,[ke,t(y,{type:"secondary"},{default:s(()=>[d("多直播平台 OBS 互动插件系统")]),_:1})]),c("div",Oe,[t(V,{name:"login-form",ref_key:"loginFormRef",ref:x,model:l(_),rules:P,onFinish:L},{default:s(()=>[t(g,{"has-feedback":"",name:"username"},{default:s(()=>[t(j,{value:l(_).username,"onUpdate:value":n[0]||(n[0]=p=>l(_).username=p),placeholder:"请输入用户名",size:"large",autocomplete:"off"},{prefix:s(()=>[t(I,{style:{color:"#0084ff"}})]),_:1},8,["value"])]),_:1}),t(g,{"has-feedback":"",name:"password"},{default:s(()=>[t(M,{value:l(_).password,"onUpdate:value":n[1]||(n[1]=p=>l(_).password=p),placeholder:"请输入密码",type:"password",size:"large",autocomplete:"off"},{prefix:s(()=>[t(z,{style:{color:"#0084ff"}})]),_:1},8,["value"])]),_:1}),t(g,{name:"autologin"},{default:s(()=>[t(B,{checked:l(_).autologin,"onUpdate:checked":n[2]||(n[2]=p=>l(_).autologin=p)},{default:s(()=>[d("自动登录")]),_:1},8,["checked"]),t(R,{style:{float:"right"},onClick:n[3]||(n[3]=ee(p=>i.value=!l(i),["stop"]))},{default:s(()=>[d(" 参与内测 ")]),_:1})]),_:1}),t(g,null,{default:s(()=>[t(U,{type:"primary",style:{width:"100%"},size:"large","html-type":"submit",loading:l(u)},{default:s(()=>[d(" 立即登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),c("div",xe,[t(C,{class:"ft"})])]),t(A,{open:l(i),"onUpdate:open":n[4]||(n[4]=p=>oe(i)?i.value=p:null),title:"参与内测",footer:null},{default:s(()=>[t(y,null,{default:s(()=>[d(" 这个项目目前还处于开发内测阶段，仅提供少数内测用户使用。"),Fe,d(" 如果你感兴趣，可以扫一扫下方二维码与我联系！ ")]),_:1}),Se,Le]),_:1},8,["open"])])}}}),Je=_e(Pe,[["__scopeId","data-v-41dfa1cd"]]);export{Je as default};
