import{_ as G,a as K,c as L,d as V,e as W}from"./PluginPreviewWrapper-786fea81.js";import{_ as $}from"./TicketPanel-7a14b8f6.js";import{d as D,r as g,W as O,o as X,X as Y,Y as Z,a as t,Z as e,g as i,$ as n,a1 as P,a2 as j,ab as h,a4 as T,a5 as b}from"./index-243dc671.js";import{a as q}from"./config-d11cc615.js";import{_ as H,F as J}from"./ActionButton-b1273ec7.js";import{C as Q}from"./index-79cf03ce.js";import{B as tt}from"./index-04136580.js";import{_ as et}from"./Text-326e8ef1.js";import{_ as nt}from"./index-c8d9f64f.js";import{_ as ot}from"./index-17a3f7bc.js";import{_ as at}from"./index-6dd78c9b.js";import{_ as lt}from"./plugin-vueexport-helper-1ccbfad7.js";import"./index-9d5f16ae.js";import"./index-8487e1b4.js";import"./useMergedState-6943558a.js";import"./collapseMotion-6aea8748.js";import"./TextArea-11a85c2e.js";import"./HFont.vuevuetypescriptsetuptruelang-915ee6c8.js";import"./index-586b3c1c.js";import"./Dropdown-e2495f45.js";import"./RightOutlined-6465de59.js";import"./useFlexGapSupport-77180dc8.js";import"./styleChecker-f5138e6d.js";import"./hasIn-40ffb538.js";const it={class:"config-ticket options-panel"},_t=D({__name:"ConfigPage",async setup(st){let r,v;const c=g();let{reactivityPluginConfig:l,pull:rt,reset:I,save:M}=([r,v]=O(()=>q(P.PLUGIN_TICKET)),r=await r,v(),r);const C=g(0),d=g(!0),w=a=>{var o;a?((o=c.value)==null||o.add({...h()}),C.value=window.setInterval(()=>{var _;(_=c.value)==null||_.add({...h()})},5e3)):window.clearInterval(C.value)};X(()=>w(!0));const N=()=>{T.post("/api/control",{method:"sendMockDataToTicket"}).then(a=>{}).catch(a=>{b.error(a.toString())})},U=()=>{T.post("/api/control",{method:"clearTicket"}).then(a=>{}).catch(a=>{b.error(a.toString())})},B={style:{width:"150px"}};return(a,o)=>{const _=et,R=nt,x=ot,y=H,p=G,k=K,S=J,f=Q,u=tt,m=at,z=L,E=$,A=V,F=W;return Y(),Z("div",it,[t(k,{gutter:[16,16]},{default:e(()=>[t(p,{sm:24,lg:14,xl:16,style:{width:"100%"}},{default:e(()=>[t(m,{direction:"vertical",size:"middle",style:{width:"100%"}},{default:e(()=>[t(f,null,{default:e(()=>[t(_,{strong:""},{default:e(()=>[i("通用设置")]),_:1}),t(R),t(S,{"label-align":"right","label-col":B,style:{"max-width":"none"}},{default:e(()=>[t(k,{gutter:24,style:{margin:"0"}},{default:e(()=>[t(p,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(y,{label:"最大数量"},{default:e(()=>[t(x,{min:1,value:n(l).pluginConfig.maximum,"onUpdate:value":o[0]||(o[0]=s=>n(l).pluginConfig.maximum=s)},null,8,["value"])]),_:1})]),_:1}),t(p,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(y,{label:"最低金额"},{default:e(()=>[t(x,{min:0,value:n(l).pluginConfig.minMoney,"onUpdate:value":o[1]||(o[1]=s=>n(l).pluginConfig.minMoney=s),disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(m,{direction:"vertical"},{default:e(()=>[t(_,{strong:""},{default:e(()=>[i("插件控制")]),_:1}),t(m,{size:10,style:{"margin-top":"1rem"}},{default:e(()=>[t(u,{onClick:N},{default:e(()=>[i("发送模拟数据至插件")]),_:1}),t(u,{onClick:U},{default:e(()=>[i("清空插件数据")]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(m,{size:10},{default:e(()=>[t(u,{type:"primary",onClick:n(M)},{default:e(()=>[i("保存设置")]),_:1},8,["onClick"]),t(z,{title:"确定要恢复默认吗？","ok-text":"确定","cancel-text":"取消",onConfirm:n(I)},{default:e(()=>[t(u,{danger:""},{default:e(()=>[i("恢复默认")]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1})]),_:1})]),_:1}),t(p,{sm:24,lg:10,xl:8,style:{width:"100%"}},{default:e(()=>[t(F,{"offset-top":16,style:{width:"100%"}},{default:e(()=>[t(A,{class:"plugin-ticket-preview","plugin-name":n(P).PLUGIN_TICKET,"auto-preview":n(d),"onUpdate:autoPreview":o[2]||(o[2]=s=>j(d)?d.value=s:null),onOnAutoPreviewSwitchChange:w},{default:e(()=>[t(E,{ref_key:"TicketPanelRef",ref:c,class:"preview-ticket-panel",level:n(l).pluginConfig.level,duration:n(l).pluginConfig.duration},null,8,["level","duration"])]),_:1},8,["plugin-name","auto-preview"])]),_:1})]),_:1})]),_:1})])}}});const zt=lt(_t,[["__scopeId","data-v-5463359f"]]);export{zt as default};
