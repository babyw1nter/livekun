import{_ as D,a as G,c as K,d as O,e as V}from"./PluginPreviewWrapper-a72ba48e.js";import{_ as $}from"./TicketPanel-98503d43.js";import{d as q,r as g,D as J,q as W,a$ as Y,L as j,c as t,w as e,az as P,b0 as H,o as Q,i as l,J as o,O as X,F as h,Y as T,B as Z}from"./index-4cc9bc63.js";import{P as b}from"./plugins-0af5cb5c.js";import{_ as tt,F as et}from"./index-aec828d5.js";import{C as ot}from"./index-9b159643.js";import{_ as nt}from"./Text-8393e520.js";import{_ as at}from"./index-e6a8eb19.js";import{_ as _t}from"./index-5c50eb50.js";import{_ as lt}from"./index-771f9086.js";import{_ as it}from"./plugin-vueexport-helper-c27b6911.js";import"./index-0db149af.js";import"./index-f75cb6d0.js";import"./responsiveObserve-a1b602eb.js";import"./useMergedState-103ba092.js";import"./TextArea-027b4a0d.js";import"./Link-6d73e62e.js";import"./index-57e7ce8f.js";import"./collapseMotion-f5c1d141.js";import"./Dropdown-a7eb46e5.js";import"./RightOutlined-1f5643c2.js";import"./useFlexGapSupport-e9cee6ec.js";import"./hasIn-988364a4.js";import"./QuestionCircleOutlined-15d537b1.js";const st={class:"config-ticket options-panel"},rt=q({__name:"ConfigPage",async setup(pt){let r,v;const c=g();let{pluginConfig:_,pull:I,reset:M,save:N}=([r,v]=J(()=>H(b.PLUGIN_TICKET)),r=await r,v(),r);const w=g(0),d=g(!0),x=a=>{var n;a?((n=c.value)==null||n.add({...P()}),w.value=window.setInterval(()=>{var i;(i=c.value)==null||i.add({...P()})},5e3)):window.clearInterval(w.value)};W(()=>x(!0)),Y(()=>{I()});const U=()=>{h.post("/api/control",{method:"sendMockDataToTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},z=()=>{h.post("/api/control",{method:"clearTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},B={style:{width:"150px"}};return(a,n)=>{const i=nt,R=at,C=_t,k=tt,p=G,y=D,S=et,f=ot,m=Z,u=lt,A=K,E=$,F=O,L=V;return Q(),j("div",st,[t(y,{gutter:[16,16]},{default:e(()=>[t(p,{sm:24,lg:14,xl:16,style:{width:"100%"}},{default:e(()=>[t(u,{direction:"vertical",size:"middle",style:{width:"100%"}},{default:e(()=>[t(f,null,{default:e(()=>[t(i,{strong:""},{default:e(()=>[l("通用设置")]),_:1}),t(R),t(S,{"label-align":"right","label-col":B,style:{"max-width":"none"}},{default:e(()=>[t(y,{gutter:24,style:{margin:"0"}},{default:e(()=>[t(p,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最大数量"},{default:e(()=>[t(C,{min:1,value:o(_).maximum,"onUpdate:value":n[0]||(n[0]=s=>o(_).maximum=s)},null,8,["value"])]),_:1})]),_:1}),t(p,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最低金额"},{default:e(()=>[t(C,{min:0,value:o(_).minMoney,"onUpdate:value":n[1]||(n[1]=s=>o(_).minMoney=s),disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{direction:"vertical"},{default:e(()=>[t(i,{strong:""},{default:e(()=>[l("插件控制")]),_:1}),t(u,{size:10,style:{"margin-top":"1rem"}},{default:e(()=>[t(m,{onClick:U},{default:e(()=>[l("发送模拟数据至插件")]),_:1}),t(m,{onClick:z},{default:e(()=>[l("清空插件数据")]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{size:10},{default:e(()=>[t(m,{type:"primary",onClick:o(N)},{default:e(()=>[l(" 保存设置 ")]),_:1},8,["onClick"]),t(A,{title:"确定要恢复默认吗？","ok-text":"确定","cancel-text":"取消",onConfirm:o(M)},{default:e(()=>[t(m,{danger:""},{default:e(()=>[l("恢复默认")]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1})]),_:1})]),_:1}),t(p,{sm:24,lg:10,xl:8,style:{width:"100%"}},{default:e(()=>[t(L,{"offset-top":16,style:{width:"100%"}},{default:e(()=>[t(F,{class:"plugin-ticket-preview","plugin-name":o(b).PLUGIN_TICKET,"auto-preview":o(d),"onUpdate:autoPreview":n[2]||(n[2]=s=>X(d)?d.value=s:null),onOnAutoPreviewSwitchChange:x},{default:e(()=>[t(E,{ref_key:"TicketPanelRef",ref:c,class:"preview-ticket-panel",level:o(_).level,duration:o(_).duration},null,8,["level","duration"])]),_:1},8,["plugin-name","auto-preview"])]),_:1})]),_:1})]),_:1})])}}});const At=it(rt,[["__scopeId","data-v-530c50a0"]]);export{At as default};
