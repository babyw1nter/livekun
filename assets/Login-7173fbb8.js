import{_ as E,a as H}from"./PageFooter-9ffd3838.js";import{aa as a,ab as N,ac as f,ad as q,ae as $,af as W,ag as D,ah as b,ai as J,c as t,A as T,d as G,x as Q,f as X,r as v,z as Y,o as Z,L as K,H as c,w as s,i as d,J as l,aj as ee,O as oe,B as te,ak as ne,al as se}from"./index-78e5fa77.js";import{I as re,_ as ae}from"./index-3b031b7c.js";import{_ as ie,F as le}from"./index-47bcf2b0.js";import{C as ce}from"./index-02653635.js";import{_ as ue}from"./Text-699069e7.js";import{_ as _e}from"./Link-9e47a9f7.js";import{_ as pe}from"./plugin-vueexport-helper-c27b6911.js";import"./index-3ddf1eda.js";import"./TextArea-eb0d299f.js";import"./index-3035e269.js";import"./SearchOutlined-6c99f03a.js";import"./responsiveObserve-5b2578bf.js";import"./useFlexGapSupport-52915c14.js";import"./hasIn-66a787ba.js";import"./collapseMotion-d1a0c701.js";import"./QuestionCircleOutlined-fe4320d6.js";import"./useMergedState-64ce77ff.js";function O(o){return f(J(o))}a.useModal=N;a.info=function(e){return f(q(e))};a.success=function(e){return f($(e))};a.error=function(e){return f(W(e))};a.warning=O;a.warn=O;a.confirm=function(e){return f(D(e))};a.destroyAll=function(){for(;b.length;){const e=b.pop();e&&e()}};a.install=function(o){return o.component(a.name,a),o};var me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const de=me;function k(o){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},u=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(u=u.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),u.forEach(function(i){fe(o,i,r[i])})}return o}function fe(o,e,r){return e in o?Object.defineProperty(o,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[e]=r,o}var w=function(e,r){var u=k({},e,r.attrs);return t(T,k({},u,{icon:de}),null)};w.displayName="LockOutlined";w.inheritAttrs=!1;const ge=w,he="/livekun-web/assets/logo_270x80-3090a5e4.png",ve="/livekun-web/assets/qrcode-wx-ec0fa0ae.jpg",h=o=>(ne("data-v-784036ca"),o=o(),se(),o),we={class:"login"},ye={class:"login-wrapper"},be={class:"top"},ke=h(()=>c("div",{class:"logo",style:{display:"block","margin-bottom":"10px"}},[c("a",{href:"#",class:"no-select"},[c("img",{src:he,width:"220"})])],-1)),Oe={class:"main"},xe={class:"footer"},Fe=h(()=>c("br",null,null,-1)),Le=h(()=>c("br",null,null,-1)),Se=h(()=>c("img",{src:ve},null,-1)),Ie=G({__name:"Login",setup(o){const e=Q(),r=X(),u=v(!1),i=v(!1);e.isLoggedIn&&localStorage.getItem("isLoggedIn")==="1"&&r.push({path:"/"});const x=v(),p=Y({username:"",password:"",autologin:!0}),F=async(m,n)=>n===""?Promise.reject(new Error("用户名不能为空")):Promise.resolve(),L=async(m,n)=>n===""?Promise.reject(new Error("密码不能为空")):Promise.resolve(),S=async m=>{u.value=!0,await e.login(m.username,m.password,m.autologin)&&r.push({path:"/"}),u.value=!1},I={username:[{required:!0,validator:F,trigger:"blur"}],password:[{required:!0,validator:L,trigger:"blur"}]};return(m,n)=>{const y=ue,P=E,j=re,g=ie,z=ge,B=ae,M=ce,U=_e,V=te,C=le,R=H,A=a;return Z(),K("div",we,[c("div",ye,[c("div",be,[ke,t(y,{type:"secondary"},{default:s(()=>[d("多直播平台 OBS 互动插件系统")]),_:1})]),c("div",Oe,[t(C,{name:"login-form",ref_key:"loginFormRef",ref:x,model:l(p),rules:I,onFinish:S},{default:s(()=>[t(g,{"has-feedback":"",name:"username"},{default:s(()=>[t(j,{value:l(p).username,"onUpdate:value":n[0]||(n[0]=_=>l(p).username=_),placeholder:"请输入用户名",size:"large",autocomplete:"off"},{prefix:s(()=>[t(P,{style:{color:"#0084ff"}})]),_:1},8,["value"])]),_:1}),t(g,{"has-feedback":"",name:"password"},{default:s(()=>[t(B,{value:l(p).password,"onUpdate:value":n[1]||(n[1]=_=>l(p).password=_),placeholder:"请输入密码",type:"password",size:"large",autocomplete:"off"},{prefix:s(()=>[t(z,{style:{color:"#0084ff"}})]),_:1},8,["value"])]),_:1}),t(g,{name:"autologin"},{default:s(()=>[t(M,{checked:l(p).autologin,"onUpdate:checked":n[2]||(n[2]=_=>l(p).autologin=_)},{default:s(()=>[d("自动登录")]),_:1},8,["checked"]),t(U,{style:{float:"right"},onClick:n[3]||(n[3]=ee(_=>i.value=!l(i),["stop"]))},{default:s(()=>[d(" 参与内测 ")]),_:1})]),_:1}),t(g,null,{default:s(()=>[t(V,{type:"primary",style:{width:"100%"},size:"large","html-type":"submit",loading:l(u)},{default:s(()=>[d(" 立即登录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),c("div",xe,[t(R,{class:"ft"})])]),t(A,{open:l(i),"onUpdate:open":n[4]||(n[4]=_=>oe(i)?i.value=_:null),title:"参与内测",footer:null},{default:s(()=>[t(y,null,{default:s(()=>[d(" 这个项目目前还处于开发内测阶段，仅提供少数内测用户使用。"),Fe,d(" 如果你感兴趣，可以扫一扫下方二维码与我联系！ ")]),_:1}),Le,Se]),_:1},8,["open"])])}}});const Te=pe(Ie,[["__scopeId","data-v-784036ca"]]);export{Te as default};
