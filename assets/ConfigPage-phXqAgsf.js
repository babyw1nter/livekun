import{_ as D,a as G,c as K,d as O,e as V}from"./PluginPreviewWrapper-MFFODr-s.js";import{_ as $}from"./TicketPanel--Qy-nmXw.js";import{d as q,r as g,D as J,q as W,a$ as Y,L as j,c as t,w as e,az as y,b0 as H,o as Q,i as _,J as o,O as X,F as P,Y as T,B as Z}from"./index-fE7iDMEm.js";import{P as b}from"./plugins-RJqq_Egy.js";import{_ as tt,F as et}from"./index-MpAA6Hqt.js";import{C as ot}from"./index-scGFuHAz.js";import{_ as nt}from"./Text-QGi-Y7UQ.js";import{_ as at}from"./index-nU_W0bs-.js";import{_ as lt}from"./index-mehRevoD.js";import{_ as _t}from"./index-GWx55Pg8.js";import{_ as it}from"./plugin-vueexport-helper-x3n3nnut.js";import"./index-LBDaFOMZ.js";import"./index-TthERCWb.js";import"./responsiveObserve-FtXa25X7.js";import"./useMergedState-Oj0_i8Bo.js";import"./TextArea-s8ONPElW.js";import"./Link-fGPAxqxw.js";import"./index-cnhpTvP0.js";import"./collapseMotion-HsO_ULQE.js";import"./Dropdown-HHEjLDPR.js";import"./RightOutlined-6SBar3Jn.js";import"./useFlexGapSupport-z_kBvuE-.js";import"./hasIn-6CplXOQm.js";import"./QuestionCircleOutlined-6qXhbwKx.js";const st={class:"config-ticket options-panel"},rt=q({__name:"ConfigPage",async setup(mt){let r,v;const c=g();let{pluginConfig:l,pull:I,reset:M,save:N}=([r,v]=J(()=>H(b.PLUGIN_TICKET)),r=await r,v(),r);const w=g(0),d=g(!0),x=a=>{var n;a?((n=c.value)==null||n.add({...y()}),w.value=window.setInterval(()=>{var i;(i=c.value)==null||i.add({...y()})},5e3)):window.clearInterval(w.value)};W(()=>x(!0)),Y(()=>{I()});const U=()=>{P.post("/api/control",{method:"sendMockDataToTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},z=()=>{P.post("/api/control",{method:"clearTicket"}).then(a=>{}).catch(a=>{T.error(a.toString())})},B={style:{width:"150px"}};return(a,n)=>{const i=nt,R=at,C=lt,k=tt,m=G,h=D,S=et,f=ot,p=Z,u=_t,A=K,E=$,F=O,L=V;return Q(),j("div",st,[t(h,{gutter:[16,16]},{default:e(()=>[t(m,{sm:24,lg:14,xl:16,style:{width:"100%"}},{default:e(()=>[t(u,{direction:"vertical",size:"middle",style:{width:"100%"}},{default:e(()=>[t(f,null,{default:e(()=>[t(i,{strong:""},{default:e(()=>[_("通用设置")]),_:1}),t(R),t(S,{"label-align":"right","label-col":B,style:{"max-width":"none"}},{default:e(()=>[t(h,{gutter:24,style:{margin:"0"}},{default:e(()=>[t(m,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最大数量"},{default:e(()=>[t(C,{min:1,value:o(l).maximum,"onUpdate:value":n[0]||(n[0]=s=>o(l).maximum=s)},null,8,["value"])]),_:1})]),_:1}),t(m,{xs:24,sm:24,md:12,lg:24,xl:12},{default:e(()=>[t(k,{label:"最低金额"},{default:e(()=>[t(C,{min:0,value:o(l).minMoney,"onUpdate:value":n[1]||(n[1]=s=>o(l).minMoney=s),disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{direction:"vertical"},{default:e(()=>[t(i,{strong:""},{default:e(()=>[_("插件控制")]),_:1}),t(u,{size:10,style:{"margin-top":"1rem"}},{default:e(()=>[t(p,{onClick:U},{default:e(()=>[_("发送模拟数据至插件")]),_:1}),t(p,{onClick:z},{default:e(()=>[_("清空插件数据")]),_:1})]),_:1})]),_:1})]),_:1}),t(f,null,{default:e(()=>[t(u,{size:10},{default:e(()=>[t(p,{type:"primary",onClick:o(N)},{default:e(()=>[_(" 保存设置 ")]),_:1},8,["onClick"]),t(A,{title:"确定要恢复默认吗？","ok-text":"确定","cancel-text":"取消",onConfirm:o(M)},{default:e(()=>[t(p,{danger:""},{default:e(()=>[_("恢复默认")]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1})]),_:1})]),_:1}),t(m,{sm:24,lg:10,xl:8,style:{width:"100%"}},{default:e(()=>[t(L,{"offset-top":16,style:{width:"100%"}},{default:e(()=>[t(F,{class:"plugin-ticket-preview","plugin-name":o(b).PLUGIN_TICKET,"auto-preview":o(d),"onUpdate:autoPreview":n[2]||(n[2]=s=>X(d)?d.value=s:null),onOnAutoPreviewSwitchChange:x},{default:e(()=>[t(E,{ref_key:"TicketPanelRef",ref:c,class:"preview-ticket-panel",level:o(l).level,duration:o(l).duration},null,8,["level","duration"])]),_:1},8,["plugin-name","auto-preview"])]),_:1})]),_:1})]),_:1})])}}}),At=it(rt,[["__scopeId","data-v-9916704f"]]);export{At as default};
